"use strict";!function(){var e=function(){window.utils.showElement(r),l.addEventListener("keydown",o),document.addEventListener("keydown",n)},t=function(){window.utils.hiddenElement(r),l.removeEventListener("keydown",o),document.removeEventListener("keydown",n)},n=function(e){window.utils.isEscEvent(e,t)},o=function(e){window.utils.isEnterEvent(e,t)},r=document.querySelector(".gallery-overlay"),l=r.querySelector(".gallery-overlay-close");l.addEventListener("click",function(){t()});var c=document.querySelector("#upload-file"),u=document.querySelector(".effect-image-preview"),i=document.querySelectorAll(".upload-effect-preview");window.uploadPhoto(c,function(e){u.src=e.result,Array.prototype.forEach.call(i,function(t){t.style.backgroundImage="url("+e.result+")"})}),window.preview={showPhoto:function(t,n){e(),r.querySelector(".gallery-overlay-image").src=n[t].url,r.querySelector(".likes-count").textContent=n[t].likes,r.querySelector(".comments-count").textContent=n[t].comments.length}}}();