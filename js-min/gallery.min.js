"use strict";!function(){var e,t=document.querySelector(".pictures"),n=function(e){for(;t.firstChild;)t.removeChild(t.firstChild);var n=window.picture.create(e,c,e.length);t.appendChild(n);var r=document.querySelector(".pictures");r.addEventListener("click",function(t){var n=t.target;if("IMG"===n.tagName){var r=n.src,i=r.slice(r.indexOf("photos"));e.some(function(t,n){t.url===i&&window.preview.showPhoto(n,e)})}t.preventDefault()});var i=r.querySelectorAll(".picture img");[].forEach.call(i,function(e){e.parentElement.tabIndex=-1,e.tabIndex=0})},r=function(t){var r=t.target;r.classList.contains("filters-radio")&&window.debounce(function(){n(window.filters[r.value](e))})},i=function(){var e=document.querySelector(".filters");e.classList.remove("hidden"),e.addEventListener("click",r)};window.backend.load(function(t){e=t,n(t),i()},window.backend.displayError);var c=document.querySelector("#picture-template").content}();