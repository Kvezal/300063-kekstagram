"use strict";!function(){var e="https://1510.dump.academy/kekstagram",t=function(e,t){var n=new XMLHttpRequest;return n.responseType="json",n.timeout=1e4,n.addEventListener("load",function(){var a;switch(n.status){case 200:e(n.response);break;case 400:a="Неправильный запрос";break;case 401:a="Пользователь не авторизован";break;case 404:a="Ничего не найдено";break;default:a="Неизвестный статус: "+n.status+" "+n.statusText}a&&t(a)}),n.addEventListener("error",function(){t("Произошла ошибка соединения")}),n.addEventListener("timeout",function(){t("Запрос не успел выполниться за "+n.timeout+"мс")}),n};window.backend={load:function(n,a){var d=t(n,a);d.open("GET",e+"/data"),d.send()},save:function(n,a,d){var o=t(a,d);o.open("POST",e),o.send(n)},displayError:function(e){var t=function(){document.body.removeChild(n),a.removeEventListener("click",t)},n=document.createElement("div");n.classList.add("error-message"),n.textContent=e;var a=document.createElement("button");a.classList.add("error-message__button"),a.addEventListener("click",t),a.addEventListener("keydown",function(e){e.keyCode===window.utils.ENTER_KEYCODE&&(document.body.removeChild(n),a.removeEventListener("keydown",t))},t),n.appendChild(a),document.body.appendChild(n)}}}();